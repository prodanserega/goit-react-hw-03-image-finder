{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/modal/modal.module.css","Components/App.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Spinner/Loader.module.css","Components/button/button.module.css","services/Api.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Spinner/Loader.js","Components/button/button.js","Components/modal/modal.js","Components/App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","getFetch","searchQuery","page","a","axios","get","params","q","catch","error","toast","data","hits","defaults","baseURL","key","image_type","orientation","per_page","SearchBar","state","value","handleNameChange","event","setState","target","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","className","s","Searchbar","this","SearchForm","type","SearchForm__button","SearchForm__button_label","SearchForm__input","placeholder","onChange","Component","ImageGalleryItem","imageSrc","openModalImage","src","alt","ImageGalleryItemImage","onClick","ImageGallery","images","modalImage","map","id","webformatURL","largeImageURL","LoaderSpinner","Loader","color","height","width","Button","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","Overlay","children","App","showModal","isLoading","showButton","handleFormSubmit","getImages","then","length","prevState","finally","scrollDown","scrollTo","top","document","documentElement","scrollHeight","behavior","toggleModal","prevProps","button","autoClose","position","Error","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f94ec1b3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2XVoh\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__k2pQz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1n2c6\",\"Modal\":\"modal_Modal__1pGvJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2FEaO\",\"Error\":\"App_Error__1V788\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1Kqyp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2qSpC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__1m8LK\"};","import axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\naxios.defaults.params = {\r\n  key: \"22027299-07bfdb6a4719892e2c46636ba\",\r\n  image_type: \"photo\",\r\n  orientation: \"horizontal\",\r\n  per_page: 12,\r\n};\r\n\r\nasync function getFetch(searchQuery, page) {\r\n  const { data } = await axios\r\n    .get(\"\", {\r\n      params: {\r\n        q: searchQuery,\r\n        page,\r\n      },\r\n    })\r\n    .catch(function (error) {\r\n      toast.error(error);\r\n    });\r\n\r\n  return data.hits;\r\n}\r\n\r\nexport { getFetch };\r\n","import React, { Component } from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    value: \"\",\r\n  };\r\n\r\n  handleNameChange = (event) => {\r\n    this.setState({ value: event.target.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.value.trim() === \"\") {\r\n      toast.error(\"Введите поисковый запрос\");\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.value);\r\n    this.setState({ value: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchForm__button}>\r\n            <span className={s.SearchForm__button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm__input}\r\n            type=\"text\"\r\n            // autocomplete=\"off\"\r\n            // autofocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleNameChange}\r\n            value={this.state.value}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import PropTypes from \"prop-types\";\r\n\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ imageSrc, openModalImage }) => {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={imageSrc}\r\n        alt=\"\"\r\n        className={s.ImageGalleryItemImage}\r\n        onClick={openModalImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  imageSrc: PropTypes.string.isRequired,\r\n  openModalImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ images, modalImage }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(({ id, webformatURL, largeImageURL }) => {\r\n        const openModalImage = () => modalImage(largeImageURL);\r\n        return (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            imageSrc={webformatURL}\r\n            openModalImage={openModalImage}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  modalImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import Loader from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nconst LoaderSpinner = () => {\r\n  return (\r\n    <Loader\r\n      className={s.Loader}\r\n      type=\"ThreeDots\"\r\n      color=\"#fc0362\"\r\n      height={80}\r\n      width={80}\r\n    />\r\n  );\r\n};\r\n\r\nexport default LoaderSpinner;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button onClick={onClick} className={s.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import PropTypes from \"prop-types\";\r\nimport React, { Component } from \"react\";\r\n\r\nimport s from \"./modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\n\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport { getFetch } from \"../services/Api\";\r\nimport SearchBar from \"../Components/Searchbar/Searchbar\";\r\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\r\n//import imageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\nimport LoaderSpinner from \"../Components/Spinner/Loader\";\r\nimport Button from \"./button/button\";\r\nimport Modal from \"./modal/modal\";\r\n\r\nimport s from \"./App.module.css\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    images: [],\r\n    searchQuery: \"\",\r\n    page: 1,\r\n    showModal: false,\r\n    isLoading: false,\r\n    largeImageURL: \"\",\r\n    showButton: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.searchQuery;\r\n    const nextQuery = this.state.searchQuery;\r\n    if (prevQuery !== nextQuery) {\r\n      this.getImages();\r\n    }\r\n    if (this.state.images.length - prevState.images.length === 12) {\r\n      this.setState({ button: true });\r\n    }\r\n  }\r\n\r\n  handleFormSubmit = (searchQuery) => {\r\n    this.setState({\r\n      images: [],\r\n      searchQuery: searchQuery,\r\n      page: 1,\r\n      error: null,\r\n      showButton: false,\r\n    });\r\n  };\r\n\r\n  getImages = () => {\r\n    const { searchQuery, page } = this.state;\r\n    this.setState({ isLoading: true });\r\n\r\n    getFetch(searchQuery, page)\r\n      .then((images) => {\r\n        if (images.length === 0) {\r\n          this.setState({ showButton: false });\r\n          toast.error(\r\n            `Search result by \"${searchQuery}' not successful. Enter the correct query.`\r\n          );\r\n          return;\r\n        } else if (images.length <= 12) {\r\n          this.setState({ showButton: true });\r\n        }\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...images],\r\n          page: prevState.page + 1,\r\n        }));\r\n      })\r\n      .catch((error) => toast(error))\r\n      .finally(() => {\r\n        this.scrollDown();\r\n        this.setState({ isLoading: false });\r\n      });\r\n  };\r\n\r\n  scrollDown = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  toggleModal = () =>\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n\r\n  modalImage = (largeImageURL) => {\r\n    this.setState({ largeImageURL });\r\n    this.toggleModal();\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading, showModal, largeImageURL, error, showButton } =\r\n      this.state;\r\n    return (\r\n      <div className={s.App}>\r\n        <ToastContainer autoClose={3000} position=\"top-right\" />\r\n        <SearchBar onSubmit={this.handleFormSubmit} />\r\n        {error && <p className={s.Error}>{error}</p>}\r\n        {images && (\r\n          <ImageGallery images={images} modalImage={this.modalImage} />\r\n        )}\r\n        {isLoading && <LoaderSpinner />}\r\n        {showButton && !isLoading && <Button onClick={this.getImages} />}\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={largeImageURL} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3zGSl\",\"SearchForm\":\"Searchbar_SearchForm__2yepi\",\"SearchForm__button\":\"Searchbar_SearchForm__button__FO0NA\",\"SearchForm__button_label\":\"Searchbar_SearchForm__button_label__1KaQj\",\"SearchForm__input\":\"Searchbar_SearchForm__input__267tZ\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2OaiX\"};"],"sourceRoot":""}